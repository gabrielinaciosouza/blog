name: Build

on:
  pull_request:
    paths:
      - '**/blog-backend/**'
      - '**/blog-web/**'

jobs:
  trigger-frontend:
    runs-on: ubuntu-latest
    if: ${{ github.event.pull_request.changed_files != 0 && contains(github.event.pull_request.changed_files, 'blog-web/') }}
    steps:
      - name: Frontend Build
        run: gh workflow run build-frontend.yml

  trigger-backend:
    runs-on: ubuntu-latest
    if: ${{ github.event.pull_request.changed_files != 0 && contains(github.event.pull_request.changed_files, 'blog-backend/') }}
    steps:
      - name: Backend Build
        run: gh workflow run build-backend.yml
